# üì¶ –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–µ—Ä–µ–≤–Ω–∏

## üß≠ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–º–µ—â–∞–µ—Ç –¥–æ–º–∞ –∏ –ø—Ä–æ–∫–ª–∞–¥—ã–≤–∞–µ—Ç –¥–æ—Ä–æ–≥–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–π —Å–µ—Ç–∫–µ.

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–º–æ–≤:

* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –¥–≤—É–º—è –¥–æ–º–∞–º–∏**
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–¥–∏–∞–ø–∞–∑–æ–Ω–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –æ—Ç –Ω–æ–≤–æ–≥–æ –¥–æ–º–∞ –¥–æ "—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ"**
* –ó–∞–¥–∞–Ω–∏–µ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–¥–∏—É—Å–∞ –¥–µ—Ä–µ–≤–Ω–∏**

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Ä–æ–≥:

* –£—Å—Ç–∞–Ω–æ–≤–∫–∞ **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –æ—Ç –¥–æ—Ä–æ–≥–∏ –¥–æ –ª—é–±–æ–≥–æ –¥–æ–º–∞**
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–∞ –¥–æ—Ä–æ–≥: **–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–µ –∏–ª–∏ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ**

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

* –î–≤–µ—Ä—å –¥–æ–º–∞ –≤—Å–µ–≥–¥–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ **—é–∂–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ**
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–æ–ª–µ–µ **400 –¥–æ–º–æ–≤ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** (–æ—Ç 10 —Å–µ–∫—É–Ω–¥)
* **–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–∞–º–∫–Ω—É—Ç—ã—Ö –¥–æ—Ä–æ–≥** (–¥–æ—Ä–æ–≥–∏ –Ω–µ –æ–±—Ä–∞–∑—É—é—Ç –∫–æ–ª—å—Ü–∞)

---

## üè† –§–æ—Ä–º–∞—Ç –æ–ø–∏—Å–∞–Ω–∏—è "—à–∞–±–ª–æ–Ω–∞" –¥–æ–º–∞
#### –í—Å–µ –¥–æ–º–∞ –≤ –¥–µ—Ä–µ–≤–Ω–µ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —à–∞–±–ª–æ–Ω–∞—Ö, –≤ —à–∞–±–ª–æ–Ω–∞—Ö –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Ä–∞–∑–º–µ—Ä—ã –¥–æ–º–∞, —á–∞—Å—Ç–æ—Ç–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –≤ –¥–µ—Ä–µ–≤–Ω–µ –∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞
### 1. –°–ª—É—á–∞–π–Ω—ã–π –¥–æ–º

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

**–§–æ—Ä–º–∞—Ç:**

```python
[[x_size, y_size], door_block, house_id, probability]
# –¢–∏–ø: [[int, int], int, int, float]
```

**–ü—Ä–∏–º–µ—Ä:**

```python
[[3, 4], 2, 6534, 0.2]
```

* –†–∞–∑–º–µ—Ä: 3√ó4
* –î–≤–µ—Ä—å: –Ω–∞ 2-–º –±–ª–æ–∫–µ —Å–Ω–∏–∑—É (–æ—Ç—Å—á—ë—Ç —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ)
* ID: 6534
* –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è: 20%

> üî∏ –°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –≤—Å–µ—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–æ–º–æ–≤ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 1. –ï—Å–ª–∏ –º–µ–Ω—å—à–µ ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã "–ø—É—Å—Ç–æ—Ç—ã" (–ø—Ä–æ–ø—É—Å–∫–∏ –¥–æ–º–æ–≤).

---

### 2. –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) –¥–æ–º

–î–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –∏ –≤ –∑–∞–¥–∞–Ω–Ω–æ–π —É–¥–∞–ª—ë–Ω–Ω–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞.

**–§–æ—Ä–º–∞—Ç:**

```python
[[x_size, y_size], door_block, house_id, position, count]
# –¢–∏–ø: [[int, int], int, int, float, int]
```

**–ü—Ä–∏–º–µ—Ä:**

```python
[[4, 2], 1, 811, 0.9, 3]
```

* –†–∞–∑–º–µ—Ä: 4√ó2
* –î–≤–µ—Ä—å: –Ω–∞ 1-–º –±–ª–æ–∫–µ (—Å–ª–µ–≤–∞)
* ID: 811
* –ü–æ–∑–∏—Ü–∏—è: 0.9 (–¥–∞–ª–µ–∫–æ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞, –±–ª–∏–∂–µ –∫ –∫—Ä–∞—é)
* –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 3 –¥–æ–º–∞

> `position` ‚Äî —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1, –≥–¥–µ 0 ‚Äî —Ü–µ–Ω—Ç—Ä –¥–µ—Ä–µ–≤–Ω–∏, 1 ‚Äî –µ—ë –∫—Ä–∞–π

---

### üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

* **door\_block** ‚Äî –Ω–æ–º–µ—Ä –±–ª–æ–∫–∞ (1 ‚Ä¶ x\_size), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–µ–Ω–∞ –¥–≤–µ—Ä—å (–≤—Å–µ–≥–¥–∞ —Å–Ω–∏–∑—É)
* **house\_id** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–º–∞

---

## üèóÔ∏è –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `generate_village()`

### üì• –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ù–∞–∑–≤–∞–Ω–∏–µ             | –¢–∏–ø                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
| -------------------- | ----------------------- | ---------------------------------------------------------- |
| `house_templates`    | `list`                  | –°–ø–∏—Å–æ–∫ "—à–∞–±–ª–æ–Ω–æ–≤" –≤—Å–µ—Ö –¥–æ–º–æ–≤ (—Å–ª—É—á–∞–π–Ω—ã—Ö –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö)                |
| `count_house`        | `int`                   | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–º–æ–≤ –≤ –¥–µ—Ä–µ–≤–Ω–µ                           |
| `min_dist`           | `int`                   | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –¥–≤—É–º—è –¥–æ–º–∞–º–∏           |
| `attach_dist_minmax` | `list[int, int]`        | –î–∏–∞–ø–∞–∑–æ–Ω —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –æ—Ç –Ω–æ–≤–æ–≥–æ –¥–æ–º–∞ –¥–æ —Ä–æ–¥–∏—Ç–µ–ª—è             |
| `min_distance`       | `int`                   | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –¥–æ—Ä–æ–≥–∏ –¥–æ –¥–æ–º–∞                   |
| `delta_grid_size`    | `int`                   | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø–∞—Å –∫–ª–µ—Ç–æ–∫ –ø–æ–¥ –¥–æ—Ä–æ–≥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚â•10) |
| `shift_diagonally`   | `bool`                  | –†–∞–∑—Ä–µ—à–µ–Ω—ã –ª–∏ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ –¥–æ—Ä–æ–≥–∏                           |
| `max_village_radius` | `int or None`           | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–¥–∏—É—Å –¥–µ—Ä–µ–≤–Ω–∏ (None ‚Äî –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)       |
| `seed`               | `int/float/str or None` | –°–∏–¥ –¥–µ—Ä–µ–≤–Ω–∏ (None ‚Äî —Å–ª—É—á–∞–π–Ω—ã–π)                             |

---

### üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

1. **–°–ø–∏—Å–æ–∫ –¥–æ–º–æ–≤**
   –ö–∞–∂–¥—ã–π –¥–æ–º ‚Äî –∫–æ—Ä—Ç–µ–∂:

   ```python
   (x, y, x_size, y_size, door_block, house_id)
   ```
   > *x, y - –∫–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–µ—Ä—à–∏–Ω—ã –¥–æ–º–∞ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏*

   **–ü—Ä–∏–º–µ—Ä:**

   ```python
   [(0, 0, 3, 4, 2, 6534), (-4, 10, 4, 2, 1, 811)]
   ```

2. **–°–ø–∏—Å–æ–∫ –¥–æ—Ä–æ–≥**
   –ö–∞–∂–¥–∞—è –¥–æ—Ä–æ–≥–∞ ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–ª–µ—Ç–æ–∫:

   ```python
   [[(0, 0), (0, 1), (0, 2)], [(-3, -4), (-3, -3), (-3, -2)]]
   ```

---

## üîß –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from generate_village import generate_village
from generate_houses import random_generate_houses_list
from vizualization_png import generate_village_image

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∏–∑ 20 —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–æ–º–æ–≤
house_list = random_generate_houses_list(20, [2, 6], [1, 5])

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–µ—Ä–µ–≤–Ω–∏ —Å 50 –¥–æ–º–∞–º–∏
houses, roads = generate_village(
    house_list,
    count_house=50,
    min_dist=7,
    attach_dist_minmax=[7, 10],
    min_distance=3,
    delta_grid_size=15,
    shift_diagonally=False,
    max_village_radius=100,
    seed=None
)

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (1 –∫–ª–µ—Ç–∫–∞ = 10 –ø–∏–∫—Å–µ–ª–µ–π)
generate_village_image(houses, roads, cell_size=10)
```

---

## üß© –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —á–∞—Å—Ç—è–º

### –ö–ª–∞—Å—Å `Generator_houses(...)`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–æ–º–æ–≤, –±–µ–∑ –¥–æ—Ä–æ–≥.

**–ü—Ä–∏–º–µ—Ä:**

```python
from generate_houses import Generator_houses

generator = Generator_houses(min_dist, attach_dist_min, attach_dist_max, max_village_radius, seed)
houses = generator.generate_houses(house_templates, count_house)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞:
   * `min_dist` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–æ–º–∞–º–∏
   * `attach_dist_min` / `attach_dist_max` ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –¥–æ —Ä–æ–¥–∏—Ç–µ–ª—è
   * `max_village_radius` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–¥–∏—É—Å –¥–µ—Ä–µ–≤–Ω–∏
   * `seed` ‚Äî 
2. –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
   * `house_templates` ‚Äî —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤ –¥–æ–º–æ–≤
   * `count_house` ‚Äî —Ü–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–º–æ–≤

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
–°–ø–∏—Å–æ–∫ –¥–æ–º–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º `generate_village()`

---

### –§—É–Ω–∫—Ü–∏—è `generate_roads(...)`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–æ—Ä–æ–≥ –ø–æ –≥–æ—Ç–æ–≤–æ–º—É —Å–ø–∏—Å–∫—É –¥–æ–º–æ–≤.

**–ü—Ä–∏–º–µ—Ä:**

```python
from generate_roads import generate_roads

roads = generate_roads(houses,min_distance,delta_grid_size,shift_diagonally)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

* `houses` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ–º–æ–≤ `(x, y, dx, dy, door_block, id)`
* `min_distance` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ—Ä–æ–≥–∏ –æ—Ç –¥–æ–º–∞
* `delta_grid_size` ‚Äî –∑–∞–ø–∞—Å —Å–µ—Ç–∫–∏ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Ç–æ—è–Ω–∏–µ –ø–æ –±–æ–∫–∞–º –¥–µ—Ä–µ–≤–Ω–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ—Ä–æ–≥)
* `shift_diagonally` ‚Äî –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–µ –¥–æ—Ä–æ–≥–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
–°–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–ª–µ—Ç–æ–∫ –¥–æ—Ä–æ–≥

---

**–ü—Ä–∏–º–µ—Ä—ã –î–µ—Ä–µ–≤–µ–Ω—å**

<img src="Examples_image/(30houses)1.png" alt="30 –¥–æ–º–æ–≤" width="300"/>
<img src="Examples_image/100h_200r.png" alt="100 –¥–æ–º–æ–≤" width="300"/>
<img src="Examples_image/400h_300r_10s.png" alt="400 –¥–æ–º–æ–≤" width="300"/>
